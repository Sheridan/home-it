# Managed by ansible. Editing is useless
# Sheridan
{% set bridge_interface = network|selectattr('ifname', 'match', 'bridge_' + item + '.*')|first %}
{% set external_interface = network|selectattr('ifname', 'match', 'external_' + item + '.*')|first %}
plugin rp-pppoe.so {{ bridge_interface.ifname }}
ifname {{ external_interface.ifname }}
name "{{ pppoe[item].login }}"
user "{{ pppoe[item].login }}"
linkname {{ item }}
persist
noipdefault
nodefaultroute
hide-password
default-asyncmap
noauth
mtu {{ pppoe[item].mtu }}
mru {{ pppoe[item].mru }}
nodetach

# -- compression --
noaccomp
nodeflate
nopcomp
novj
novjccomp
# nobsdcomp
# noccp
# nodeflate

lcp-echo-interval {{ pppoe[item].lcp_echo.interval }}
lcp-echo-failure {{ pppoe[item].lcp_echo.failures }}
